import{d as e,B as s,D as a,u as r,E as o,r as l,o as t,e as n,f as m,g as u,w as p,a8 as i,p as d,j as c,i as g}from"./vendor.ef10c181.js";import{g as f}from"./user.02c60c12.js";import"./request.6dc1c898.js";const b={setup(){const l=e(),t=s({username:"admin",password:"123123"}),n=a(null);return r().commit("clearTags"),{param:t,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},login:n,submitForm:()=>{n.value.validate((e=>{if(!e)return o.error("登录失败"),!1})),f(t).then((e=>{console.log(Object.prototype.toString.call(e)),console.log(e),o.success("登录成功"),sessionStorage.setItem("ms_username",e.username),l.push("/")})).catch((e=>{console.log(e),o.error("网络出了问题")}))}}}},w={class:"login-wrap"},_={class:"ms-login"},v=(e=>(d("data-v-904f97b6"),e=e(),c(),e))((()=>m("div",{class:"ms-title"},"Prime Wallet登录",-1))),h={class:"login-btn"},V=g("登录"),j={class:"login-tips"},y=g("还没有账号？点击这里注册");b.render=function(e,s,a,r,o,d){const c=l("el-button"),g=l("el-input"),f=l("el-form-item"),b=l("router-link"),k=l("el-form");return t(),n("div",w,[m("div",_,[v,u(k,{model:r.param,rules:r.rules,ref:"login","label-width":"0px",class:"ms-content"},{default:p((()=>[u(f,{prop:"username"},{default:p((()=>[u(g,{modelValue:r.param.username,"onUpdate:modelValue":s[0]||(s[0]=e=>r.param.username=e),placeholder:"username"},{prepend:p((()=>[u(c,{icon:"el-icon-user"})])),_:1},8,["modelValue"])])),_:1}),u(f,{prop:"password"},{default:p((()=>[u(g,{type:"password",placeholder:"password",modelValue:r.param.password,"onUpdate:modelValue":s[1]||(s[1]=e=>r.param.password=e),onKeyup:s[2]||(s[2]=i((e=>r.submitForm()),["enter"]))},{prepend:p((()=>[u(c,{icon:"el-icon-lock"})])),_:1},8,["modelValue"])])),_:1}),m("div",h,[u(c,{type:"primary",onClick:s[3]||(s[3]=e=>r.submitForm())},{default:p((()=>[V])),_:1})]),m("p",j,[u(b,{to:"/register",class:"login-tips"},{default:p((()=>[y])),_:1})])])),_:1},8,["model","rules"])])])},b.__scopeId="data-v-904f97b6";export default b;
