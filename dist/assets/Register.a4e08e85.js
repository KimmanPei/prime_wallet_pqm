import{d as e,B as a,D as r,u as s,E as l,r as o,o as d,e as p,f as m,g as t,w as i,a8 as u,p as n,j as c,i as g}from"./vendor.ef10c181.js";import{a as w}from"./user.02c60c12.js";import"./request.6dc1c898.js";const f={setup(){e();const o=a({username:"",email:"",password:"",password2:""}),d=r(null),p={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],email:[{type:"email",required:!0,message:"邮箱格式不正确",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],password2:[{required:!0,message:"请再次输入密码",trigger:"blur"},{trigger:"blur",message:"两次输入的密码不一样",validator:(e,a,r)=>{console.log("in validator",a,o.password),a!==o.password?r(new Error):r()}}]};return s().commit("clearTags"),{param:o,rules:p,register:d,submitForm:()=>{console.log("submit form"),d.value.validate().then((e=>!!e||(l.error("注册失败"),!1))),console.log("after valid"),w(o).then((e=>{console.log(e),l.success("注册成功")})).catch((e=>{console.log(e),l.error("网络出了问题")}))}}}},b=e=>(n("data-v-049d3818"),e=e(),c(),e),_={class:"login-wrap"},v={class:"ms-login"},V=b((()=>m("div",{class:"ms-title"},"Prime Wallet 注册",-1))),h={class:"login-btn"},y=g("注册"),q=b((()=>m("p",{class:"login-tips el-icon-arrow-left"},null,-1))),j=g(" 返回登录 ");f.render=function(e,a,r,s,l,n){const c=o("el-button"),g=o("el-input"),w=o("el-form-item"),f=o("router-link"),b=o("el-form");return d(),p("div",_,[m("div",v,[V,t(b,{model:s.param,rules:s.rules,ref:"register","label-width":"0px",class:"ms-content"},{default:i((()=>[t(w,{prop:"username"},{default:i((()=>[t(g,{modelValue:s.param.username,"onUpdate:modelValue":a[0]||(a[0]=e=>s.param.username=e),placeholder:"username"},{prepend:i((()=>[t(c,{icon:"el-icon-user"})])),_:1},8,["modelValue"])])),_:1}),t(w,{prop:"email"},{default:i((()=>[t(g,{modelValue:s.param.email,"onUpdate:modelValue":a[1]||(a[1]=e=>s.param.email=e),placeholder:"email"},{prepend:i((()=>[t(c,{icon:"el-icon-message"})])),_:1},8,["modelValue"])])),_:1}),t(w,{prop:"password"},{default:i((()=>[t(g,{type:"password",placeholder:"your password",modelValue:s.param.password,"onUpdate:modelValue":a[2]||(a[2]=e=>s.param.password=e),onKeyup:a[3]||(a[3]=u((e=>s.submitForm()),["enter"]))},{prepend:i((()=>[t(c,{icon:"el-icon-lock"})])),_:1},8,["modelValue"])])),_:1}),t(w,{prop:"password2"},{default:i((()=>[t(g,{type:"password",placeholder:"password again",modelValue:s.param.password2,"onUpdate:modelValue":a[4]||(a[4]=e=>s.param.password2=e),onKeyup:a[5]||(a[5]=u((e=>s.submitForm()),["enter"]))},{prepend:i((()=>[t(c,{icon:"el-icon-lock"})])),_:1},8,["modelValue"])])),_:1}),m("div",h,[t(c,{type:"primary",onClick:a[6]||(a[6]=e=>s.submitForm())},{default:i((()=>[y])),_:1})]),t(f,{to:"/login",class:"login-tips"},{default:i((()=>[q,j])),_:1})])),_:1},8,["model","rules"])])])},f.__scopeId="data-v-049d3818";export default f;
